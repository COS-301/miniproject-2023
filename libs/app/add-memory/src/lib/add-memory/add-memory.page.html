<ion-header>
    <ion-toolbar color="dark">
        <ion-title>Add Memory</ion-title>
    </ion-toolbar>
</ion-header>

<ion-content color="dark">
    <ion-list ngClass="modal-list">
        <ion-item color="dark" ngClass="modal-list-item">
            <ion-label>Title: </ion-label>
            <ion-input maxlength="23" ngClass="modal-list-input" placeholder="Enter a title" [(ngModel)]="memory.title" (ionChange)="setTitleText()"></ion-input>
        </ion-item>
        <ion-item color="dark" ngClass="modal-list-item description">
            <ion-label>Description: </ion-label>
            <ion-textarea maxlength="130" placeholder="Type a description" [autoGrow]="true" ngClass="modal-list-input description-text" [(ngModel)]="memory.description" (ionChange)="setDescriptionText()"></ion-textarea>
        </ion-item>  
        <ion-item ngClass="date" lines="none" color="dark">
            <ion-label>Date: </ion-label>
            <ion-input ngClass="date-display" slot="end" [readonly]="true" [value]="currentDate | date: 'dd MMMM yyyy'"></ion-input>
        </ion-item>     
        <ion-item color="dark" ngClass="modal-list-item">
            <input id="fileInput" type="file" accept="image/*" (change)="onFileSelected($event)">
        </ion-item>        
        <!-- <ion-item color="dark" ngClass="modal-list-item">
            <ion-label for="fileInput" >No image to display</ion-label>
            <ion-img [src]="memory.imageUrl" *ngIf="memory.imageUrl"></ion-img>
        </ion-item> -->
        <ion-item ngClass="preview" lines="none" color="dark">
            <ion-label>Preview memory capsule: </ion-label>
        </ion-item>
        <ion-card ngClass="memory-card" color="none"> 
            <div ngClass="memory-img">
                <img style="
                    position: absolute;
                    background-image: url('{{ memory.imageUrl }}');
                    background-position: center;
                    background-repeat: no-repeat;
                    background-size: cover;
                    width: 100%;
                    height: 100%;

                    filter: blur(8px);
                    -webkit-filter: blur(8px);">
            </div>               
            <ion-card-header>
                <ion-card-title ngClass="memory-card-title">{{ memory.title }}</ion-card-title>
            </ion-card-header>
            <ion-card-content>
                <p ngClass="memory-card-desc">{{ memory.description }}</p>
                <ion-buttons slot="start">
                    <ion-text color="light" ngClass="btn-add-time">+</ion-text>
                </ion-buttons>  
                <p ngClass="memory-card-timer">0d:3h:0min</p>
                <ion-text class="ion-padding-top" ngClass="memory-date"color="light">{{ currentDate | date:'dd MMMM yyyy' }}</ion-text>
            </ion-card-content>
        </ion-card>
    </ion-list>
    <ion-item ngClass="buttons" color="none">
        <ion-button slot="start" ngClass="button-cancel" (click)="cancel()">Cancel</ion-button>
        <ion-button slot="end" ngClass="button-add" (click)="add()">Add</ion-button>
    </ion-item>
      
</ion-content>
  