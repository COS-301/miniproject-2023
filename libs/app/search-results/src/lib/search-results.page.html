<ion-header color="none" >
    <ion-toolbar color="none" [ngClass]="'menu-toolbar'">
        <ion-title ngClass="title">Memory Lane</ion-title>
        <small slot="end" ngClass="account-time">22h:52m:11s</small>
    </ion-toolbar>
    <ion-toolbar color="dark" lines="none" class="ion-padding-top">
        <ion-buttons slot="start">
            <ion-back-button ngClass="back-btn" defaultHref="/search-page" text=""></ion-back-button>
          </ion-buttons>
        <ion-searchbar
            color="medium" 
            ngClass="searchbar"
            [(ngModel)]="searchValue"
            disabled="true"
        ></ion-searchbar>
    </ion-toolbar>
</ion-header>

<ion-content color="dark">
    <ion-list ngClass="memory-list" *ngIf="currentFilter==='Memories' || currentFilter==='Date'">
        <ion-card ngClass="memory-card" color="none" *ngFor="let memory of Memories"> 
            <img ngClass="memory-img" style="background-image: url('{{ memory.imgUrl }}');" />             
            <ion-card-header>
                <div class="memory-avatar-username">
                    <ion-avatar slot="start">
                        <img src="{{ memory.profileUrl }}" ngClass="memory-card-profileImage" routerLink="/user-view"/>
                    </ion-avatar>
                    <ion-card-title ngClass="memory-card-username" routerLink="/user-view">{{ memory.username }}</ion-card-title>
                    <ion-text ngClass="memory-card-time-ago">{{ calculateHowLongAgo(memory.timePosted) }}</ion-text>
                </div>
            </ion-card-header>
            <ion-card-content>
                <ion-card-title ngClass="memory-card-title">{{ memory.title }}</ion-card-title>
                <p ngClass="memory-card-desc">{{ memory.description }}</p>
                <ion-text class="ion-padding-top" ngClass="memory-date">{{ convertTimePostedToDate(memory.timePosted) }}</ion-text>
            </ion-card-content>
        </ion-card>
    </ion-list>
    <!-- Show filters when searched i.e. pressed Enter -->
    <ion-tabs color="none" ngClass="filter-tabs">
        <ion-tab-bar slot="top" ngClass="filter-tab" color="none">
          <ion-tab-button (click)="setFilter('Top Accounts')" [ngClass]="{'filter-tab-btn': currentFilter==='Top Accounts'}">
            <ion-label>Top Accounts</ion-label>
          </ion-tab-button>
          <ion-tab-button (click)="setFilter('Memories')" [ngClass]="{'filter-tab-btn': currentFilter==='Memories'}">
            <ion-label>Memories</ion-label>
          </ion-tab-button>
          <ion-tab-button (click)="setFilter('Date')" [ngClass]="{'filter-tab-btn': currentFilter==='Date'}">
            <ion-label>Date</ion-label>
          </ion-tab-button>
        </ion-tab-bar>
    </ion-tabs>
    <!-- Show list of accounts from a search -->
    <ion-list 
        *ngIf="currentFilter==='Top Accounts' && searchValue"
        [ngClass]="{'search-list-searched': showFilters, 'search-list': !showFilters}"
        >
        <!-- Change ion-item to user-view component; this way we can send the inputs of the search result down to the user-view component -->
        <ion-item
            color="none" 
            *ngFor="let result of SearchResults"
            ngClass="search-item"
            routerLink="/user-view"
        >
            <ion-text>{{result}}</ion-text>
        </ion-item>
    </ion-list>
</ion-content>