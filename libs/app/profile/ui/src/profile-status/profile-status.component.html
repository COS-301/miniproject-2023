<ng-container *ngIf="profile$ | async as profile; else loading">
  <ion-card>
    <ion-card-header>
      <ion-card-title class="ion-align-items-center" style="display: flex">
        Profile
        <ng-container *ngIf="profile">
          <ion-icon
            *ngIf="profile.status == 'Incomplete'"
            color="danger"
            class="ion-padding-start"
            name="alert-circle-outline"></ion-icon>
          <ion-icon
            *ngIf="profile.status == 'Complete'"
            color="success"
            class="ion-padding-start"
            name="checkmark-circle-outline"></ion-icon>
        </ng-container>
      </ion-card-title>
      <ion-card-subtitle>Status</ion-card-subtitle>
    </ion-card-header>
    <ion-card-content>
      <!-- ACCOUNT DETAILS -->
      <ion-chip
        *ngIf="profile.accountDetails?.status == 'Complete'"
        color="success">
        Account Details <ion-icon name="checkmark-circle-outline"></ion-icon>
      </ion-chip>
      <ion-chip
        *ngIf="profile.accountDetails?.status == 'Incomplete'"
        color="danger">
        Account Details <ion-icon name="alert-circle-outline"></ion-icon>
      </ion-chip>

      <!-- PERSONAL DETAILS -->
      <ion-chip
        *ngIf="profile.personalDetails?.status == 'Complete'"
        color="success">
        Personal Details <ion-icon name="checkmark-circle-outline"></ion-icon>
      </ion-chip>
      <ion-chip
        *ngIf="profile.personalDetails?.status == 'Incomplete'"
        color="danger">
        Personal Details <ion-icon name="alert-circle-outline"></ion-icon>
      </ion-chip>

      <!-- CONTACT DETAILS -->
      <ion-chip
        *ngIf="profile.contactDetails?.status == 'Complete'"
        color="success">
        Contact Details <ion-icon name="checkmark-circle-outline"></ion-icon>
      </ion-chip>
      <ion-chip
        *ngIf="profile.contactDetails?.status == 'Incomplete'"
        color="danger">
        Contact Details <ion-icon name="alert-circle-outline"></ion-icon>
      </ion-chip>

      <!-- ADDRESS DETAILS -->
      <ion-chip
        *ngIf="profile.addressDetails?.status == 'Complete'"
        color="success">
        Address Details <ion-icon name="checkmark-circle-outline"></ion-icon>
      </ion-chip>
      <ion-chip
        *ngIf="profile.addressDetails?.status == 'Incomplete'"
        color="danger">
        Address Details <ion-icon name="alert-circle-outline"></ion-icon>
      </ion-chip>

      <!-- OCCUPATION DETAILS -->
      <ion-chip
        *ngIf="profile.occupationDetails?.status == 'Complete'"
        color="success">
        Occupation Details <ion-icon name="checkmark-circle-outline"></ion-icon>
      </ion-chip>
      <ion-chip
        *ngIf="profile.occupationDetails?.status == 'Incomplete'"
        color="danger">
        Occupation Details <ion-icon name="alert-circle-outline"></ion-icon>
      </ion-chip>
    </ion-card-content>
    <ion-button
      fill="clear"
      class="ion-float-right"
      [routerLink]="['/', 'home', 'profile']">
      Open Profile
    </ion-button>
  </ion-card>
</ng-container>
<ng-template #loading>
  <ion-grid>
    <ion-row>
      <ion-col>
        <ngx-skeleton-loader
          count="1"
          [theme]="{ height: '150px' }"
          appearance="line"></ngx-skeleton-loader>
      </ion-col>
    </ion-row>
  </ion-grid>
</ng-template>
